<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–§–∞–±—Ä–∏–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ ‚Äî –¥–µ–º–æ</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="app-shell header-inner">
        <div>
          <h1>–§–∞–±—Ä–∏–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h1>
          <p class="subtitle">–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è –¥–µ–º–æ-–≤–∏—Ç—Ä–∏–Ω–∞</p>
        </div>
      </div>
    </header>

    <main class="app app-shell">
      <nav class="tabs" role="tablist">
        <button class="tab active" data-tab="new-request" role="tab">–ù–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å</button>
        <button class="tab" data-tab="materials" role="tab">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</button>
        <button class="tab" data-tab="pipes" role="tab">–¢–µ–º–∞—Ç–∏–∫–∏</button>
        <button class="tab" data-tab="result" role="tab">–†–µ–∑—É–ª—å—Ç–∞—Ç</button>
      </nav>

      <section class="tab-panel active" id="new-request" role="tabpanel">
        <div class="request-layout">
          <form id="brief-form" class="brief-form">
            <div class="form-row">
              <label for="pipe-select">–¢–µ–º–∞—Ç–∏–∫–∞</label>
              <select id="pipe-select" required></select>
            </div>
            <div class="form-row">
              <label for="topic-input">–¢–µ–º–∞</label>
              <input id="topic-input" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, '–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å –¥–µ–±–µ—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É'" required />
            </div>
            <div class="form-row">
              <label for="goal-input">–¶–µ–ª—å –º–∞—Ç–µ—Ä–∏–∞–ª–∞</label>
              <input id="goal-input" type="text" value="SEO-—Å—Ç–∞—Ç—å—è" />
            </div>
            <div class="form-row">
              <label for="tone-select">–¢–æ–Ω</label>
              <select id="tone-select">
                <option value="—ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π">–≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π</option>
                <option value="–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π">–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π</option>
                <option value="—Å—Ç—Ä–æ–≥–∏–π">–°—Ç—Ä–æ–≥–∏–π</option>
              </select>
              <p class="field-hint">
                –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç —Å—Ç–∏–ª–µ–≤—ã–µ –Ω–æ—Ä–º—ã –ø–æ—Ä—Ç–∞–ª–∞ (–º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
                <code>style_profile=off</code>).
              </p>
            </div>
            <div class="form-row">
              <label for="structure-preset">–ü—Ä–µ—Å–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã</label>
              <select id="structure-preset">
                <option value="custom">–°–≤–æ—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</option>
                <option value="seo">SEO-–≥–∞–π–¥</option>
                <option value="faq">FAQ-–º–∞—Ç–µ—Ä–∏–∞–ª</option>
                <option value="overview">–û–±–∑–æ—Ä/—Ä–µ—Ü–µ–Ω–∑–∏—è</option>
              </select>
            </div>
            <div class="form-row">
              <label for="structure-input">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</label>
              <textarea id="structure-input" rows="4" placeholder="–ö–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏"></textarea>
            </div>
            <div class="form-row">
              <label for="keywords-input">–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞</label>
              <input id="keywords-input" type="text" placeholder="–ß–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é" />
            </div>
            <fieldset class="form-row">
              <legend>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</legend>
              <label><input type="checkbox" id="include-faq" checked /> FAQ</label>
              <label><input type="checkbox" id="include-table" /> –¢–∞–±–ª–∏—Ü–∞</label>
              <label><input type="checkbox" id="include-jsonld" checked /> JSON-LD</label>
              <label><input type="checkbox" id="facts-mode" /> Facts mode</label>
              <label><input type="checkbox" id="add-disclaimer" /> –î–∏—Å–∫–ª–µ–π–º–µ—Ä</label>
            </fieldset>
            <details id="advanced-settings" class="advanced-settings">
              <summary>–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</summary>
              <div class="advanced-content">
                <div class="advanced-section">
                  <div class="advanced-grid">
                    <div class="form-row">
                      <label class="field-label" for="k-input">
                        <span>–ö–æ–Ω—Ç–µ–∫—Å—Ç (k)</span>
                        <span
                          class="info-icon"
                          tabindex="0"
                          role="img"
                          aria-label="2‚Äì4 –æ–±—ã—á–Ω–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ"
                          title="2‚Äì4 –æ–±—ã—á–Ω–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ"
                          >üõà</span
                        >
                      </label>
                      <input id="k-input" type="number" min="0" max="6" value="3" />
                    </div>
                    <div class="form-row">
                      <label class="field-label" for="temperature-input">
                        <span>Temperature</span>
                        <span
                          class="info-icon"
                          tabindex="0"
                          role="img"
                          aria-label="0.2‚Äì0.5 ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ"
                          title="0.2‚Äì0.5 ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ"
                          >üõà</span
                        >
                      </label>
                      <input id="temperature-input" type="number" min="0" max="1" step="0.1" value="0.3" />
                    </div>
                    <div class="form-row">
                      <label class="field-label" for="max-tokens-input">
                        <span>Max tokens</span>
                        <span
                          class="info-icon"
                          tabindex="0"
                          role="img"
                          aria-label="–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–ª–∏–Ω—É –æ—Ç–≤–µ—Ç–∞"
                          title="–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–ª–∏–Ω—É –æ—Ç–≤–µ—Ç–∞"
                          >üõà</span
                        >
                      </label>
                      <input id="max-tokens-input" type="number" min="1" value="1400" />
                    </div>
                    <div class="form-row">
                      <label class="field-label" for="model-input">
                        <span>–ú–æ–¥–µ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</span>
                        <span
                          class="info-icon"
                          tabindex="0"
                          role="img"
                          aria-label="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"
                          title="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"
                          >üõà</span
                        >
                      </label>
                      <input id="model-input" type="text" placeholder="gpt-4o-mini" />
                    </div>
                  </div>
                </div>
                <div class="advanced-section" data-section="support">
                  <div class="advanced-section-header">
                    <h4 class="advanced-section-title">–°–ª—É–∂–µ–±–Ω–æ–µ</h4>
                    <span class="advanced-section-caption">–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                  </div>
                  <div class="advanced-actions">
                    <button type="button" class="ghost" id="reindex-btn">Reindex theme</button>
                    <button type="button" class="ghost" id="health-btn">Health check</button>
                  </div>
                </div>
              </div>
            </details>
            <div class="form-actions">
              <button type="button" class="secondary" id="preview-btn">
                <span class="btn-label">–°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–º–ø—Ç</span>
              </button>
              <button type="submit" class="primary">
                <span class="btn-label">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</span>
              </button>
            </div>
          </form>
          <aside class="request-status">
            <section>
              <h3>Health</h3>
              <div id="health-status" class="status-grid"></div>
            </section>
            <section>
              <div class="section-header">
                <h3>Reindex log</h3>
                <button type="button" class="ghost small" id="clear-log">–û—á–∏—Å—Ç–∏—Ç—å</button>
              </div>
              <div id="reindex-log" class="console-log">
                <div class="log-empty">–ü–æ–∫–∞ –±–µ–∑ –∑–∞–ø—É—Å–∫–æ–≤.</div>
              </div>
            </section>
          </aside>
        </div>
      </section>

      <section class="tab-panel" id="materials" role="tabpanel">
        <div id="artifacts-list" class="cards-grid"></div>
      </section>

      <section class="tab-panel" id="pipes" role="tabpanel">
        <div id="pipes-list" class="pipes-grid"></div>
      </section>

      <section class="tab-panel" id="result" role="tabpanel">
        <div class="result-layout">
          <div class="result-main">
            <div class="result-header">
              <h2 id="result-title">–†–µ–∑—É–ª—å—Ç–∞—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</h2>
              <div class="result-meta">
                <p id="result-meta"></p>
                <div class="badges" id="result-badges"></div>
              </div>
            </div>
            <section class="prompt-preview" id="prompt-preview">
              <h3>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–º–ø—Ç–∞</h3>
              <div class="prompt-grid">
                <article>
                  <header>SYSTEM</header>
                  <pre id="preview-system" class="prompt-text">–ù–∞–∂–º–∏—Ç–µ ¬´–°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–º–ø—Ç¬ª, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç.</pre>
                </article>
                <article>
                  <header>
                    CONTEXT <span id="context-badge" class="badge neutral">–Ω–µ –∑–∞–ø—Ä–æ—à–µ–Ω</span>
                  </header>
                  <ul id="context-list" class="context-list"></ul>
                  <p id="context-summary" class="context-summary"></p>
                </article>
                <article>
                  <header>USER</header>
                  <pre id="preview-user" class="prompt-text"></pre>
                </article>
              </div>
            </section>
            <article id="draft-view" class="draft-view"></article>
          </div>
          <aside class="result-aside">
            <h3>–û—Ç—á–µ—Ç –æ –∫–∞—á–µ—Å—Ç–≤–µ</h3>
            <div id="report-view" class="report-view"></div>
            <div class="download-buttons">
              <button id="download-md" class="secondary" disabled>–°–∫–∞—á–∞—Ç—å .md</button>
              <button id="download-report" class="secondary" disabled>–°–∫–∞—á–∞—Ç—å –æ—Ç—á—ë—Ç .json</button>
            </div>
          </aside>
        </div>
      </section>
    </main>

    <div id="progress-overlay" class="progress-overlay hidden" role="alert" aria-live="polite">
      <div class="progress-card">
        <div class="spinner"></div>
        <p data-role="progress-message">–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª—ã‚Ä¶</p>
      </div>
    </div>

    <template id="artifact-card-template">
      <article class="card">
        <div class="card-header">
          <h3 class="card-title"></h3>
          <span class="status"></span>
        </div>
        <p class="card-topic"></p>
        <p class="card-meta"></p>
        <div class="card-actions">
          <button type="button" class="secondary subtle open-btn">
            <span class="btn-label">–û—Ç–∫—Ä—ã—Ç—å</span>
          </button>
          <button type="button" class="secondary subtle download-btn">
            <span class="btn-label">–°–∫–∞—á–∞—Ç—å</span>
          </button>
        </div>
      </article>
    </template>

    <div id="toast-root" class="toast-root" aria-live="polite" aria-atomic="true"></div>

    <script src="script.js" type="module"></script>
  </body>
</html>
